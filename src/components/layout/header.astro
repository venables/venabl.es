---
import { Image } from "astro:assets"
import avatar from "@/assets/images/matt-venables/avatar-transparent.png"
import { siteConfig } from "@/config/site"
import type { HTMLAttributes } from "astro/types"

type Props = HTMLAttributes<"header"> & {
  title: string
}

const url = new URL(Astro.request.url)
const back = url.pathname !== "/"

const { title, ...props } = Astro.props
---

<header {...props}>
  <div class="h-6 leading-6">
    {
      back && (
        <a href="/" class="-mt-6 leading-6">
          â†© back
        </a>
      )
    }
  </div>
  <div class="flex justify-between">
    <h1 class="font-display text-4xl">
      <a href={url.pathname}>{title}</a>
    </h1>
    {
      back ? (
        <span />
      ) : (
        <a href={siteConfig.links.x} target="_blank" rel="noopener noreferrer" class="hidden sm:block">
          <Image
            src={avatar}
            alt="Matt Venables"
            class="size-12 transition-transform hover:scale-130 hover:rotate-12"
          />
        </a>
      )
    }
  </div>
</header>
